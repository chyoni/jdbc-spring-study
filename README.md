
# V3, V3_1

## 기존 코드(V2) 문제점:

 - 하나의 서비스 로직은 하나의 트랜잭션에서 모든 작업이 처리가 되어야 하므로, 하나의 트랜잭션을 이용해야하는데 그러다보니 V2 코드는
   서비스 계층에서 커넥션을 가지고 오는 작업이 서비스 로직보다 더 많은 내용을 차지하게 된다. 또한 서비스 로직에서 다른 기술 (지금 V2는
   JDBC 기술을 사용하는 중)에 의존성을 가지고 있음. 서비스 로직은 순수 자바 코드만으로 이루어지는게 가장 이상적(그래야 이후에 기술을 변경해도
   서비스 로직에 변경 사항을 주지 않고 변경 가능하기 때문에) 그렇기 때문에 코드 수정이 필요.

## V3에서 트랜잭션을 다루는 방법

 - 스프링이 제공하는 ```PlatformTransactionManager```라는 인터페이스를 사용한다. 이 인터페이스는 구현체가 다양하고 (JDBC, JPA, ...)
   원하는 구현체로 작업하면 된다. 그렇기 때문에 서비스 계층에서는 인터페이스에만 의존하면 되기 때문에 이후에 기술이 변경되어도 서비스 로직을
   변경할 필요가 없어진다. 위 문제점 중 다른 기술을 의존하는 서비스 계층의 문제를 해결하는 것. 이를 해결하니 파생적으로 문제가 해결되는 부분은
   서비스 계층에서 서비스 로직보다 커넥션을 가져오는 작업의 로직이 더 많았던 부분을 해결한다.